<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
</html>

<script>

  // 高频面试题。 // 5/10


  // 说下深拷贝和浅拷贝

  // 如何深拷贝


  // 什么是浅拷贝，什么深拷贝？

  //  如何实现深拷贝？


  // 数组浅拷贝 3中方式
  /*
  *1. 遍历 for(let item of arr){ let newArr=[];  newarr.push(item)}
  *2. slice() let newArr=arr.slice()
  *3. concat()  let newArr=arr.concat()
  * /
  // 对象

  /*
  *1. 循环遍历    let newobj={}; for(let i in obj){ newobj[i]=obj[i] }
  *2. Object.assign()
  * 3. {...obj}
  */




  // 深拷贝1,深的方案，
  
  let obj={name:'kity',list:[1,2,3]}

  // let newOjb=Object.assign({},obj); // 参一：目标对象，参二：源对象

  // console.log(obj==newOjb)//浅拷贝


  // newOjb.list[0]=100;
  // console.log(obj,newOjb)


  // let str=JSON.stringify(obj);
  // console.log(str);
  // let newObj=JSON.parse(str);
  // console.log(newObj==obj)
  // newObj.list[0]=100;
  // console.log(newObj,obj)
  

//我可以手写深拷贝


// 一般手写


function deepClone(obj={}){
  //  第一件事情 判断是基本数据，还是引用数据
  if(typeof obj!='object'||obj==null){
     return obj;
  }

  // 在区分
  let result;
  if(obj instanceof Array){
     result=[]
  }else{
     result={}
  }

  // 遍历
  for(let key in obj){
    
    // key比需不是原型上的属性。
    if(obj.hasOwnProperty(key)){
      // 递归遍历
      result[key]=deepClone(obj[key])
    }


  }
  return result;

}

var list=deepClone(obj);
list.list[0]=100

console.log(list,obj)





</script>